<div class="row" (resized)="onResized($event)" xmlns:svg="">
  <div class="col-2">
    <app-image-tool-bar></app-image-tool-bar>
  </div>

  <!-------------- CONTENT ------------------>
  <div class="col-10">
    <div class="row" id="selectedStaff">
      <div class="col">
        <!-- This inner div is used to avoid problems with padding -->
        <div #selectedStaffInnerDIV
             [style.height.px]="selectedStaffHeight"
             [ngStyle]="{'background-image':' url(' + selectedStaffImageURL + ')'}"
             [style.background-position-x.px]="selectedStaffImageBackgroundPositionX"
             [style.background-position-y.px]="selectedStaffImageBackgroundPositionY"
             [style.background-size.%]="selectedStaffImageBackgroundPertentage"
        >
          <app-svgcanvas #svgCanvas [width]="selectedStaffImageWidth" [height]="selectedStaffHeight"
            (svgShapeCreated)="onShapeCreated($event)"
          >

          </app-svgcanvas>
        </div>
      </div>
      <p id="noStaffSelectedMessage" [hidden]="staffSelected">Select a staff...</p>
    </div>

    <div class="row" id="agnostic">
      <div class="col" id="staff" [style.height.px]="agnosticStaffHeight">
        <!-- This inner div is used to avoid problems with padding -->
        <svg [attr.viewBox]="'0 0 ' + agnosticStaffWidth + ' ' + agnosticStaffHeight"
             preserveAspectRatio="xMidYMid meet">
          <rect width="100%" height="100%" fill="white"/>
          <g>
            <line stroke="black" *ngFor="let staffLineYCoordinate of staffLineYCoordinates"
                  [attr.x1]="0" [attr.y1]="staffLineYCoordinate"
                  stroke-width="2"
                  [attr.x2]="selectedStaffImageWidth"  [attr.y2]="staffLineYCoordinate"/>
          </g>
          <g>
            <!--<app-image-thumbnail *ngFor="let image of project.images" [image]="image" [projectURLs]="projectURLs" [attr.data-id]="image.id"></app-image-thumbnail>-->
            <path *ngFor="let agnosticSymbolSVG of agnosticSymbolSVGs" [attr.d]="agnosticSymbolSVG.d"
                  stroke="black" fill="black"
                  [attr.transform]="'translate(' + agnosticSymbolSVG.x + ',' + agnosticSymbolSVG.y
                  + ') scale(' + agnosticSVGScaleX + ', ' + agnosticSVGScaleY + ')'"
            />
          </g>
        </svg>
      </div>
    </div>

    <!-- tool bar to correct the agnostic transcription -->
    <!--          {{item.key}}:{{item.value}} -->
    <div class="row" id="agnosticToolbar">
      <div class="col">
        <div class="btn-toolbar" role="toolbar" aria-label="Agnostic toolbar">
          <div class="btn-group mr-2" role="group" aria-label="Symbol edition">
            <button type="button" class="btn btn-primary" title="Move pitch down">
              <i class="fa fa-angle-down"></i>
            </button>
            <button type="button" class="btn btn-primary" title="Move pitch up">
              <i class="fa fa-angle-up"></i>
            </button>
          </div>

          <div class="btn-group-justified" role="group" aria-label="Agnostic symbols">
            <button *ngFor="let item of agnosticSymbolSVGMap | keyvalue" type="button" class="btn btn-secondary">
              <svg width="30" height="30" viewBox="0 -2048 2048 4096"> <!-- TODO Valores de la escala, 2048 es el valor unitsPerEM de la fuente SVG -->
                <path stroke="black" fill="black" [attr.d]="item.value" [attr.transform]="'scale(1, -1)'"/>
              </svg><br>
              {{item.key}}
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- image with regions drawn to be selected -->
    <div class="row" id="manuscriptImage">
      <div class="col">
        <app-document-analysis-view #appDocumentAnalysisView (mouseEvent)="onMouseEvent($event)" (svgShapeSelected)="onShapeSelected($event)"></app-document-analysis-view>
      </div>
    </div>
  </div>
</div>


